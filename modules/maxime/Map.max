import maxime.Option

class Map[a, b]

  EmptyMap
  put(key: a, value: b) -> Map[a, b] = Map(key, value, EmptyMap)
  get(key: a) -> Option[b] = None
  
  Map(key: a, value: b, rest: Map[a, b])
  
  put(k: a, v: b) -> Map[a, b] =
    eq(k, key) match
      case True => Map(key, v, rest)
      case False => Map(key, value, rest.put(k, v))

  get(k: a) -> Option[b] =
    eq(k, key) match
      case True => value
      case False => rest.get(key)
